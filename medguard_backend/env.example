# MedGuard SA - HIPAA-Compliant Environment Configuration
# Copy this file to .env and fill in your production values

# =============================================================================
# DJANGO SETTINGS
# =============================================================================

# Security - CRITICAL FOR PRODUCTION
SECRET_KEY=your-super-secure-secret-key-here-minimum-50-characters
DEBUG=False
ALLOWED_HOSTS=your-domain.com,www.your-domain.com,api.your-domain.com

# Database Configuration
DB_NAME=medguard_sa_production
DB_USER=medguard_user
DB_PASSWORD=your-secure-database-password
DB_HOST=localhost
DB_PORT=5432

# =============================================================================
# HIPAA COMPLIANCE SETTINGS
# =============================================================================

# Encryption Keys (Generate unique keys for production)
HIPAA_ENCRYPTION_KEY=your-base64-encoded-encryption-key-32-bytes
ANONYMIZATION_SALT=your-anonymization-salt-for-consistent-hashing

# Audit and Compliance
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for HIPAA compliance
COMPLIANCE_REPORTING_ENABLED=True
BREACH_DETECTION_ENABLED=True

# Data Retention Policies
PATIENT_DATA_RETENTION_DAYS=2555
MEDICATION_DATA_RETENTION_DAYS=2555
AUDIT_DATA_RETENTION_DAYS=2555
BACKUP_RETENTION_DAYS=2555

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Settings for HIPAA-compliant email
EMAIL_HOST=smtp.your-provider.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=notifications@your-domain.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=noreply@your-domain.com
DEFAULT_FROM_NAME=MedGuard SA

# Email Templates
EMAIL_TEMPLATE_DIR=templates/notifications/email/

# =============================================================================
# REDIS & CELERY CONFIGURATION
# =============================================================================

# Redis for caching and background tasks
REDIS_URL=redis://localhost:6379/1
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery Settings
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=['json']
CELERY_TIMEZONE=Africa/Johannesburg
CELERY_ENABLE_UTC=True

# =============================================================================
# WAGTAIL CMS SETTINGS
# =============================================================================

WAGTAILADMIN_BASE_URL=https://your-domain.com
WAGTAIL_SITE_NAME=MedGuard SA

# =============================================================================
# CORS & SECURITY SETTINGS
# =============================================================================

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_ALLOW_CREDENTIALS=True

# Security Headers
SECURE_SSL_REDIRECT=True
SECURE_PROXY_SSL_HEADER=('HTTP_X_FORWARDED_PROTO', 'https')
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# =============================================================================
# MEDIA & STATIC FILES
# =============================================================================

MEDIA_URL=/media/
STATIC_URL=/static/
MEDIA_ROOT=/var/www/medguard-sa/media/
STATIC_ROOT=/var/www/medguard-sa/static/

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=WARNING
SECURITY_LOG_LEVEL=INFO

# Log Files
LOG_FILE=/var/log/medguard-sa/django.log
SECURITY_LOG_FILE=/var/log/medguard-sa/security.log
AUDIT_LOG_FILE=/var/log/medguard-sa/audit.log

# =============================================================================
# MONITORING & ALERTS
# =============================================================================

# Monitoring Services
SENTRY_DSN=your-sentry-dsn-for-error-tracking
HEALTH_CHECK_ENABLED=True

# Alert Configuration
ALERT_EMAIL=alerts@your-domain.com
ALERT_SLACK_WEBHOOK=your-slack-webhook-url

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# SMS Service (for medication reminders)
SMS_PROVIDER=twilio  # or aws_sns
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# AWS SNS (alternative SMS provider)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# Push Notifications
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=2555
BACKUP_STORAGE_PATH=/var/backups/medguard-sa/

# AWS S3 Backup (optional)
AWS_S3_BACKUP_BUCKET=medguard-sa-backups
AWS_S3_BACKUP_REGION=us-east-1

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# Cache Configuration
CACHE_BACKEND=django_redis.cache.RedisCache
CACHE_LOCATION=redis://localhost:6379/2
CACHE_TIMEOUT=300

# Database Connection Pooling
DB_CONN_MAX_AGE=600
DB_OPTIONS={"MAX_CONNS": 20}

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================

# Uncomment for development
# DEBUG=True
# ALLOWED_HOSTS=localhost,127.0.0.1
# SECURE_SSL_REDIRECT=False
# SESSION_COOKIE_SECURE=False
# CSRF_COOKIE_SECURE=False 