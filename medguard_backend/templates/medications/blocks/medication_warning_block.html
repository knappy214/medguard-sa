{% load wagtailcore_tags %}

<div class="medication-warning-block warning-severity-{{ value.severity }}">
    <div class="warning-header">
        <div class="warning-icon">
            {% if value.severity == 'info' %}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            {% elif value.severity == 'warning' %}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            {% elif value.severity == 'danger' %}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            {% elif value.severity == 'critical' %}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            {% endif %}
        </div>
        
        <div class="warning-type">
            {% if value.warning_type %}
                <span class="warning-type-badge">{{ value.get_warning_type_display }}</span>
            {% endif %}
        </div>
    </div>
    
    <div class="warning-content">
        {% if value.content %}
            {% include_block value.content %}
        {% endif %}
    </div>
</div>

<style>
.medication-warning-block {
    margin: 1.5rem 0;
    padding: 1.25rem;
    border-radius: 0.5rem;
    border-left: 4px solid;
    position: relative;
}

.warning-severity-info {
    background-color: #eff6ff;
    border-left-color: #3b82f6;
    color: #1e40af;
}

.warning-severity-warning {
    background-color: #fffbeb;
    border-left-color: #f59e0b;
    color: #d97706;
}

.warning-severity-danger {
    background-color: #fef2f2;
    border-left-color: #ef4444;
    color: #dc2626;
}

.warning-severity-critical {
    background-color: #fdf2f8;
    border-left-color: #ec4899;
    color: #be185d;
}

.warning-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
}

.warning-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.8);
    flex-shrink: 0;
}

.warning-severity-info .warning-icon {
    background-color: rgba(59, 130, 246, 0.1);
}

.warning-severity-warning .warning-icon {
    background-color: rgba(245, 158, 11, 0.1);
}

.warning-severity-danger .warning-icon {
    background-color: rgba(239, 68, 68, 0.1);
}

.warning-severity-critical .warning-icon {
    background-color: rgba(236, 72, 153, 0.1);
}

.warning-type {
    flex-grow: 1;
    margin-left: 1rem;
}

.warning-type-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 9999px;
    background-color: rgba(255, 255, 255, 0.9);
}

.warning-severity-info .warning-type-badge {
    color: #1e40af;
}

.warning-severity-warning .warning-type-badge {
    color: #d97706;
}

.warning-severity-danger .warning-type-badge {
    color: #dc2626;
}

.warning-severity-critical .warning-type-badge {
    color: #be185d;
}

.warning-content {
    margin-left: 3.5rem;
}

.warning-content h1,
.warning-content h2,
.warning-content h3,
.warning-content h4,
.warning-content h5,
.warning-content h6 {
    margin-top: 0;
    margin-bottom: 0.75rem;
    font-weight: 600;
}

.warning-content p {
    margin-bottom: 0.75rem;
    line-height: 1.6;
}

.warning-content ul,
.warning-content ol {
    margin-bottom: 0.75rem;
    padding-left: 1.5rem;
}

.warning-content li {
    margin-bottom: 0.25rem;
}

.warning-content a {
    text-decoration: underline;
    font-weight: 500;
}

.warning-content a:hover {
    text-decoration: none;
}

@media (max-width: 768px) {
    .medication-warning-block {
        padding: 1rem;
        margin: 1rem 0;
    }
    
    .warning-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }
    
    .warning-content {
        margin-left: 0;
        margin-top: 0.75rem;
    }
    
    .warning-icon {
        width: 2rem;
        height: 2rem;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .medication-warning-block {
        border-width: 3px;
    }
    
    .warning-icon {
        border: 2px solid currentColor;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .medication-warning-block {
        transition: none;
    }
}
</style> 